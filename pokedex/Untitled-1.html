<!DOCTYPE html>
<html lang="es">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>PokéWiki | Tu enciclopedia Pokémon</title>
 <script src="https://cdn.tailwindcss.com"></script>
 <script>
 tailwind.config = {
 theme: {
 extend: {
 colors: {
 pokemon: {
 50: '#fef7ff',
 100: '#feeeff',
 200: '#fddeff',
 300: '#fcc4ff',
 400: '#f99aff',
 500: '#f26fff',
 600: '#e647ff',
 700: '#cc2fff',
 800: '#a825cc',
 900: '#8a20a5'
 }
 }
 }
 }
 }
 </script>
 <style>
 @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap');

 .font-orbitron { font-family: 'Orbitron', monospace; }
 .font-inter { font-family: 'Inter', sans-serif; }

 .pokemon-card {
 background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
 box-shadow: 0 4px 20px rgba(0,0,0,0.08);
 transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
 }

 .pokemon-card:hover {
 transform: translateY(-8px);
 box-shadow: 0 20px 40px rgba(0,0,0,0.12);
 }

 .type-badge {
 transition: all 0.2s ease;
 }

 .type-badge:hover {
 transform: scale(1.05);
 }

 .gradient-bg {
 background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
 }

 .loading-spinner {
 border: 3px solid #f3f4f6;
 border-top: 3px solid #667eea;
 border-radius: 50%;
 width: 40px;
 height: 40px;
 animation: spin 1s linear infinite;
 }

 @keyframes spin {
 0% { transform: rotate(0deg); }
 100% { transform: rotate(360deg); }
 }

 .fade-in {
 animation: fadeIn 0.5s ease-in;
 }

 @keyframes fadeIn {
 from { opacity: 0; transform: translateY(20px); }
 to { opacity: 1; transform: translateY(0); }
 }

 .skeleton {
 background: linear-gradient(90deg, #f0f0f0 25%, transparent 37%, #f0f0f0 63%);
 background-size: 400% 100%;
 animation: skeleton-loading 1.5s ease-in-out infinite;
 }

 @keyframes skeleton-loading {
 0% { background-position: 100% 50%; }
 100% { background-position: 0% 50%; }
 }

 .stat-bar {
 height: 8px;
 background: linear-gradient(90deg, #ef4444, #f97316, #eab308, #22c55e);
 border-radius: 4px;
 transition: width 0.3s ease;
 }
 </style>
</head>
<body class="bg-gray-50 font-inter">
 <!-- Header -->
 <header class="gradient-bg shadow-lg sticky top-0 z-50">
 <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
 <div class="flex justify-between items-center h-16">
 <div class="flex items-center space-x-3">
 <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center">
 <span class="text-2xl">⚡</span>
 </div>
 <div>
 <h1 class="text-white text-xl font-orbitron font-bold">PokéWiki</h1>
 <p class="text-purple-100 text-xs">Tu enciclopedia Pokémon</p>
 </div>
 </div>
 <div class="flex items-center space-x-4">
 <button id="darkModeToggle" class="text-white hover:text-purple-200 transition-colors">
 <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
 </svg>
 </button>
 <div id="stats" class="text-white text-sm font-medium">
 <span id="totalPokemon">0</span> Pokémon
 </div>
 </div>
 </div>
 </div>
 </header>

 <!-- Layout -->
 <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
 <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
 <!-- Sidebar -->
 <aside class="lg:col-span-1">
 <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-24">
 <!-- Búsqueda -->
 <div class="mb-6">
 <label class="block text-sm font-semibold text-gray-700 mb-2">Buscar Pokémon</label>
 <div class="relative">
 <input
 type="text"
 id="searchInput"
 placeholder="Nombre o ID..."
 class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pokemon-500 focus:border-transparent outline-none transition-all"
 >
 <svg class="absolute left-3 top-2.5 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
 </svg>
 </div>
 </div>

 <!-- Filtros por Generación -->
 <div class="mb-6">
 <label class="block text-sm font-semibold text-gray-700 mb-2">Generación</label>
 <select id="generationFilter" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pokemon-500 focus:border-transparent outline-none">
 <option value="">Todas las generaciones</option>
 <option value="1">Gen I - Kanto (1-151)</option>
 <option value="2">Gen II - Johto (152-251)</option>
 <option value="3">Gen III - Hoenn (252-386)</option>
 <option value="4">Gen IV - Sinnoh (387-493)</option>
 <option value="5">Gen V - Unova (494-649)</option>
 <option value="6">Gen VI - Kalos (650-721)</option>
 <option value="7">Gen VII - Alola (722-809)</option>
 </select>
 </div>

 <!-- Ordenamiento -->
 <div class="mb-6">
 <label class="block text-sm font-semibold text-gray-700 mb-2">Ordenar por</label>
 <select id="sortBy" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pokemon-500 focus:border-transparent outline-none">
 <option value="id">ID (menor a mayor)</option>
 <option value="name">Nombre (A-Z)</option>
 <option value="height">Altura</option>
 <option value="weight">Peso</option>
 </select>
 </div>

 <!-- Filtros por Tipo -->
 <div class="mb-6">
 <label class="block text-sm font-semibold text-gray-700 mb-2">Filtrar por tipo</label>
 <div id="typeFilters" class="grid grid-cols-2 gap-2">
 <!-- Los botones de tipos se generarán dinámicamente -->
 </div>
 </div>

 <!-- Estadísticas -->
 <div class="mb-6">
 <h3 class="text-sm font-semibold text-gray-700 mb-2">Estadísticas</h3>
 <div class="space-y-2 text-sm">
 <div class="flex justify-between">
 <span>Mostrando:</span>
 <span id="showingCount" class="font-medium">0</span>
 </div>
 <div class="flex justify-between">
 <span>Total:</span>
 <span id="totalCount" class="font-medium">0</span>
 </div>
 </div>
 </div>

 <!-- Limpiar Filtros -->
 <button id="clearFilters" class="w-full bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg font-medium transition-colors">
 Limpiar filtros
 </button>
 </div>
 </aside>

 <!-- Main Content -->
 <main class="lg:col-span-3">
 <!-- Loading State -->
 <div id="loadingState" class="flex flex-col items-center justify-center py-20">
 <div class="loading-spinner mb-4"></div>
 <p class="text-gray-600">Cargando Pokémon...</p>
 </div>

 <!-- Empty State -->
 <div id="emptyState" class="hidden flex flex-col items-center justify-center py-20">
 <div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4">
 <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
 </svg>
 </div>
 <h3 class="text-xl font-semibold text-gray-800 mb-2">No se encontraron Pokémon</h3>
 <p class="text-gray-600">Intenta cambiar los filtros o el término de búsqueda</p>
 </div>

 <!-- Pokémon Grid -->
 <div id="pokemonGrid" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
 <!-- Las tarjetas se generarán dinámicamente -->
 </div>

 <!-- Paginación -->
 <div id="pagination" class="hidden mt-8 flex justify-center">
 <div class="flex space-x-2">
 <button id="prevPage" class="px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">
 Anterior
 </button>
 <div id="pageNumbers" class="flex space-x-2">
 <!-- Los números de página se generarán dinámicamente -->
 </div>
 <button id="nextPage" class="px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">
 Siguiente
 </button>
 </div>
 </div>
 </main>
 </div>
 </div>

 <!-- Modal de Detalles -->
 <div id="pokemonModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
 <div class="bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
 <div id="modalContent">
 <!-- El contenido del modal se generará dinámicamente -->
 </div>
 </div>
 </div>

 <!-- Footer -->
 <footer class="bg-gray-800 text-white mt-16">
 <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
 <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
 <div>
 <h3 class="text-lg font-semibold mb-4">PokéWiki</h3>
 <p class="text-gray-300">Tu enciclopedia Pokémon definitiva con información completa de todas las generaciones.</p>
 </div>
 <div>
 <h3 class="text-lg font-semibold mb-4">Características</h3>
 <ul class="space-y-2 text-gray-300">
 <li>• Búsqueda avanzada</li>
 <li>• Filtros por tipo y generación</li>
 <li>• Información detallada</li>
 <li>• Diseño responsive</li>
 </ul>
 </div>
 <div>
 <h3 class="text-lg font-semibold mb-4">Datos</h3>
 <p class="text-gray-300">Información obtenida de la PokéAPI oficial. Todos los derechos de Pokémon pertenecen a Nintendo, Game Freak y Creatures Inc.</p>
 </div>
 </div>
 <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-300">
 <p>&copy; 2025 PokéWiki. Creado con ❤️ para entrenadores Pokémon.</p>
 </div>
 </div>
 </footer>

 <script>
 // Estado global de la aplicación
 const appState = {
 allPokemon: [],
 filteredPokemon: [],
 currentPage: 1,
 pokemonPerPage: 12,
 activeFilters: {
 search: '',
 types: [],
 generation: '',
 sortBy: 'id'
 },
 isLoading: false
 };

 // Configuración de tipos de Pokémon con colores
 const pokemonTypes = {
 normal: { color: '#A8A878', name: 'Normal' },
 fire: { color: '#F08030', name: 'Fuego' },
 water: { color: '#6890F0', name: 'Agua' },
 electric: { color: '#F8D030', name: 'Eléctrico' },
 grass: { color: '#78C850', name: 'Planta' },
 ice: { color: '#98D8D8', name: 'Hielo' },
 fighting: { color: '#C03028', name: 'Lucha' },
 poison: { color: '#A040A0', name: 'Veneno' },
 ground: { color: '#E0C068', name: 'Tierra' },
 flying: { color: '#A890F0', name: 'Volador' },
 psychic: { color: '#F85888', name: 'Psíquico' },
 bug: { color: '#A8B820', name: 'Bicho' },
 rock: { color: '#B8A038', name: 'Roca' },
 ghost: { color: '#705898', name: 'Fantasma' },
 dragon: { color: '#7038F8', name: 'Dragón' },
 dark: { color: '#705848', name: 'Siniestro' },
 steel: { color: '#B8B8D0', name: 'Acero' },
 fairy: { color: '#EE99AC', name: 'Hada' }
 };

 // Configuración de generaciones
 const generations = {
 1: { start: 1, end: 151, name: 'Kanto' },
 2: { start: 152, end: 251, name: 'Johto' },
 3: { start: 252, end: 386, name: 'Hoenn' },
 4: { start: 387, end: 493, name: 'Sinnoh' },
 5: { start: 494, end: 649, name: 'Unova' },
 6: { start: 650, end: 721, name: 'Kalos' },
 7: { start: 722, end: 809, name: 'Alola' }
 };

 // Función para capitalizar texto
 function capitalize(text) {
 return text.charAt(0).toUpperCase() + text.slice(1);
 }

 // Función para obtener el color de un tipo
 function getTypeColor(type) {
 return pokemonTypes[type]?.color || '#68D391';
 }

 // Función para obtener el nombre en español del tipo
 function getTypeName(type) {
 return pokemonTypes[type]?.name || capitalize(type);
 }

 // Función para mostrar/ocultar estados de carga
 function toggleLoadingState(show) {
 const loadingState = document.getElementById('loadingState');
 const pokemonGrid = document.getElementById('pokemonGrid');
 const emptyState = document.getElementById('emptyState');

 if (show) {
 loadingState.classList.remove('hidden');
 pokemonGrid.classList.add('hidden');
 emptyState.classList.add('hidden');
 } else {
 loadingState.classList.add('hidden');
 pokemonGrid.classList.remove('hidden');
 }
 }

 // Función para mostrar estado vacío
 function showEmptyState() {
 const loadingState = document.getElementById('loadingState');
 const pokemonGrid = document.getElementById('pokemonGrid');
 const emptyState = document.getElementById('emptyState');

 loadingState.classList.add('hidden');
 pokemonGrid.classList.add('hidden');
 emptyState.classList.remove('hidden');
 }

 // Función para cargar todos los Pokémon
 async function loadAllPokemon() {
 try {
 toggleLoadingState(true);

 // Cargar lista inicial de Pokémon
 const response = await fetch('https://pokeapi.co/api/v2/pokemon?limit=809');
 const data = await response.json();

 // Cargar detalles de cada Pokémon
 const pokemonPromises = data.results.map(async (pokemon, index) => {
 try {
 const pokemonResponse = await fetch(pokemon.url);
 const pokemonData = await pokemonResponse.json();
 return {
 id: pokemonData.id,
 name: pokemonData.name,
 image: pokemonData.sprites.other['official-artwork'].front_default || pokemonData.sprites.front_default,
 types: pokemonData.types.map(type => type.type.name),
 height: pokemonData.height,
 weight: pokemonData.weight,
 stats: pokemonData.stats.map(stat => ({
 name: stat.stat.name,
 base_stat: stat.base_stat
 })),
 abilities: pokemonData.abilities.map(ability => ability.ability.name)
 };
 } catch (error) {
 console.error(`Error loading pokemon ${pokemon.name}:`, error);
 return null;
 }
 });

 // Procesar en lotes para mejor performance
 const batchSize = 50;
 const allPokemon = [];

 for (let i = 0; i < pokemonPromises.length; i += batchSize) {
 const batch = pokemonPromises.slice(i, i + batchSize);
 const batchResults = await Promise.all(batch);
 allPokemon.push(...batchResults.filter(pokemon => pokemon !== null));

 // Actualizar progreso
 const progress = Math.min(allPokemon.length, 809);
 document.getElementById('totalPokemon').textContent = progress;
 }

 appState.allPokemon = allPokemon.sort((a, b) => a.id - b.id);
 appState.filteredPokemon = [...appState.allPokemon];

 updateStats();
 renderPokemon();
 toggleLoadingState(false);

 } catch (error) {
 console.error('Error loading Pokemon:', error);
 toggleLoadingState(false);
 showEmptyState();
 }
 }

 // Función para crear filtros de tipos
 function createTypeFilters() {
 const typeFiltersContainer = document.getElementById('typeFilters');

 Object.entries(pokemonTypes).forEach(([type, config]) => {
 const button = document.createElement('button');
 button.className = 'px-3 py-1 rounded-full text-white text-xs font-medium transition-all hover:scale-105';
 button.style.backgroundColor = config.color;
 button.textContent = config.name;
 button.dataset.type = type;

 button.addEventListener('click', () => toggleTypeFilter(type, button));
 typeFiltersContainer.appendChild(button);
 });
 }

 // Función para alternar filtro de tipo
 function toggleTypeFilter(type, button) {
 const index = appState.activeFilters.types.indexOf(type);

 if (index === -1) {
 appState.activeFilters.types.push(type);
 button.classList.add('ring-4', 'ring-white', 'ring-opacity-50');
 } else {
 appState.activeFilters.types.splice(index, 1);
 button.classList.remove('ring-4', 'ring-white', 'ring-opacity-50');
 }

 filterPokemon();
 }

 // Función para filtrar Pokémon
 function filterPokemon() {
 let filtered = [...appState.allPokemon];

 // Filtro por búsqueda
 if (appState.activeFilters.search) {
 const searchTerm = appState.activeFilters.search.toLowerCase();
 filtered = filtered.filter(pokemon =>
 pokemon.name.toLowerCase().includes(searchTerm) ||
 pokemon.id.toString().includes(searchTerm)
 );
 }

 // Filtro por tipos
 if (appState.activeFilters.types.length > 0) {
 filtered = filtered.filter(pokemon =>
 appState.activeFilters.types.some(type =>
 pokemon.types.includes(type)
 )
 );
 }

 // Filtro por generación
 if (appState.activeFilters.generation) {
 const gen = generations[appState.activeFilters.generation];
 filtered = filtered.filter(pokemon =>
 pokemon.id >= gen.start && pokemon.id <= gen.end
 );
 }

 // Ordenamiento
 filtered.sort((a, b) => {
 switch (appState.activeFilters.sortBy) {
 case 'name':
 return a.name.localeCompare(b.name);
 case 'height':
 return b.height - a.height;
 case 'weight':
 return b.weight - a.weight;
 case 'id':
 default:
 return a.id - b.id;
 }
 });

 appState.filteredPokemon = filtered;
 appState.currentPage = 1;

 updateStats();
 renderPokemon();
 renderPagination();
 }

 // Función para actualizar estadísticas
 function updateStats() {
 document.getElementById('totalCount').textContent = appState.allPokemon.length;
 document.getElementById('showingCount').textContent = appState.filteredPokemon.length;
 document.getElementById('totalPokemon').textContent = appState.allPokemon.length;
 }

 // Función para renderizar Pokémon
 function renderPokemon() {
 const pokemonGrid = document.getElementById('pokemonGrid');

 if (appState.filteredPokemon.length === 0) {
 showEmptyState();
 return;
 }

 const startIndex = (appState.currentPage - 1) * appState.pokemonPerPage;
 const endIndex = startIndex + appState.pokemonPerPage;
 const pokemonToShow = appState.filteredPokemon.slice(startIndex, endIndex);

 pokemonGrid.innerHTML = pokemonToShow.map(pokemon => `
 <div class="pokemon-card rounded-xl overflow-hidden cursor-pointer fade-in" data-pokemon-id="${pokemon.id}">
 <div class="aspect-square bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4">
 <img
 src="${pokemon.image}"
 alt="${capitalize(pokemon.name)}"
 class="w-full h-full object-contain"
 loading="lazy"
 >
 </div>
 <div class="p-4">
 <div class="flex justify-between items-start mb-2">
 <h3 class="text-lg font-semibold text-gray-800">${capitalize(pokemon.name)}</h3>
 <span class="text-sm text-gray-500 font-mono">#${pokemon.id.toString().padStart(3, '0')}</span>
 </div>
 <div class="flex flex-wrap gap-2 mb-3">
 ${pokemon.types.map(type => `
 <span class="type-badge px-2 py-1 rounded-full text-white text-xs font-medium" style="background-color: ${getTypeColor(type)}">
 ${getTypeName(type)}
 </span>
 `).join('')}
 </div>
 <div class="grid grid-cols-2 gap-4 text-sm text-gray-600">
 <div>
 <span class="font-medium">Altura:</span> ${pokemon.height / 10}m
 </div>
 <div>
 <span class="font-medium">Peso:</span> ${pokemon.weight / 10}kg
 </div>
 </div>
 </div>
 </div>
 `).join('');

 // Agregar event listeners a las tarjetas
 pokemonGrid.querySelectorAll('.pokemon-card').forEach(card => {
 card.addEventListener('click', () => {
 const pokemonId = parseInt(card.dataset.pokemonId);
 showPokemonModal(pokemonId);
 });
 });

 renderPagination();
 }

 // Función para renderizar paginación
 function renderPagination() {
 const paginationContainer = document.getElementById('pagination');
 const totalPages = Math.ceil(appState.filteredPokemon.length / appState.pokemonPerPage);

 if (totalPages <= 1) {
 paginationContainer.classList.add('hidden');
 return;
 }

 paginationContainer.classList.remove('hidden');

 const prevButton = document.getElementById('prevPage');
 const nextButton = document.getElementById('nextPage');
 const pageNumbers = document.getElementById('pageNumbers');

 // Botón anterior
 prevButton.disabled = appState.currentPage === 1;
 prevButton.onclick = () => {
 if (appState.currentPage > 1) {
 appState.currentPage--;
 renderPokemon();
 }
 };

 // Botón siguiente
 nextButton.disabled = appState.currentPage === totalPages;
 nextButton.onclick = () => {
 if (appState.currentPage < totalPages) {
 appState.currentPage++;
 renderPokemon();
 }
 };

 // Números de página
 pageNumbers.innerHTML = '';
 const maxVisiblePages = 5;
 let startPage = Math.max(1, appState.currentPage - Math.floor(maxVisiblePages / 2));
 let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);

 if (endPage - startPage + 1 < maxVisiblePages) {
 startPage = Math.max(1, endPage - maxVisiblePages + 1);
 }

 for (let i = startPage; i <= endPage; i++) {
 const button = document.createElement('button');
 button.className = `px-3 py-2 rounded-lg transition-colors ${
 i === appState.currentPage
 ? 'bg-pokemon-500 text-white'
 : 'bg-white border border-gray-300 hover:bg-gray-50'
 }`;
 button.textContent = i;
 button.onclick = () => {
 appState.currentPage = i;
 renderPokemon();
 };
 pageNumbers.appendChild(button);
 }
 }

 // Función para mostrar modal de detalles
 function showPokemonModal(pokemonId) {
 const pokemon = appState.allPokemon.find(p => p.id === pokemonId);
 if (!pokemon) return;

 const modal = document.getElementById('pokemonModal');
 const modalContent = document.getElementById('modalContent');

 modalContent.innerHTML = `
 <div class="relative">
 <!-- Header del Modal -->
 <div class="gradient-bg text-white p-6 relative overflow-hidden">
 <button id="closeModal" class="absolute top-4 right-4 text-white hover:text-gray-300 transition-colors z-10">
 <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
 </svg>
 </button>

 <div class="flex items-center space-x-6">
 <div class="w-32 h-32 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
 <img
 src="${pokemon.image}"
 alt="${capitalize(pokemon.name)}"
 class="w-28 h-28 object-contain"
 >
 </div>
 <div>
 <h2 class="text-3xl font-bold font-orbitron">${capitalize(pokemon.name)}</h2>
 <p class="text-purple-100 text-lg">#${pokemon.id.toString().padStart(3, '0')}</p>
 <div class="flex flex-wrap gap-2 mt-3">
 ${pokemon.types.map(type => `
 <span class="px-3 py-1 rounded-full text-white text-sm font-medium bg-white bg-opacity-30">
 ${getTypeName(type)}
 </span>
 `).join('')}
 </div>
 </div>
 </div>
 </div>

 <!-- Contenido del Modal -->
 <div class="p-6">
 <!-- Información Básica -->
 <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
 <div class="bg-gray-50 rounded-lg p-4 text-center">
 <div class="text-2xl font-bold text-gray-800">${pokemon.height / 10}m</div>
 <div class="text-sm text-gray-600">Altura</div>
 </div>
 <div class="bg-gray-50 rounded-lg p-4 text-center">
 <div class="text-2xl font-bold text-gray-800">${pokemon.weight / 10}kg</div>
 <div class="text-sm text-gray-600">Peso</div>
 </div>
 <div class="bg-gray-50 rounded-lg p-4 text-center">
 <div class="text-2xl font-bold text-gray-800">${pokemon.abilities.length}</div>
 <div class="text-sm text-gray-600">Habilidades</div>
 </div>
 </div>

 <!-- Estadísticas -->
 <div class="mb-8">
 <h3 class="text-xl font-semibold text-gray-800 mb-4">Estadísticas Base</h3>
 <div class="space-y-3">
 ${pokemon.stats.map(stat => {
 const statNames = {
 'hp': 'PS',
 'attack': 'Ataque',
 'defense': 'Defensa',
 'special-attack': 'At. Esp.',
 'special-defense': 'Def. Esp.',
 'speed': 'Velocidad'
 };
 const statName = statNames[stat.name] || capitalize(stat.name);
 const percentage = (stat.base_stat / 200) * 100;

 return `
 <div class="flex items-center space-x-4">
 <div class="w-20 text-sm font-medium text-gray-700">${statName}</div>
 <div class="flex-1 bg-gray-200 rounded-full h-3 relative overflow-hidden">
 <div class="stat-bar h-full" style="width: ${percentage}%"></div>
 </div>
 <div class="w-12 text-sm font-bold text-gray-800 text-right">${stat.base_stat}</div>
 </div>
 `;
 }).join('')}
 </div>
 </div>

 <!-- Habilidades -->
 <div class="mb-6">
 <h3 class="text-xl font-semibold text-gray-800 mb-4">Habilidades</h3>
 <div class="flex flex-wrap gap-2">
 ${pokemon.abilities.map(ability => `
 <span class="px-3 py-2 bg-blue-100 text-blue-800 rounded-lg text-sm font-medium">
 ${capitalize(ability.replace('-', ' '))}
 </span>
 `).join('')}
 </div>
 </div>
 </div>
 </div>
 `;

 // Mostrar modal
 modal.classList.remove('hidden');
 document.body.style.overflow = 'hidden';

 // Event listener para cerrar modal
 document.getElementById('closeModal').addEventListener('click', closePokemonModal);
 modal.addEventListener('click', (e) => {
 if (e.target === modal) {
 closePokemonModal();
 }
 });
 }

 // Función para cerrar modal
 function closePokemonModal() {
 const modal = document.getElementById('pokemonModal');
 modal.classList.add('hidden');
 document.body.style.overflow = 'auto';
 }

 // Función para limpiar filtros
 function clearAllFilters() {
 appState.activeFilters = {
 search: '',
 types: [],
 generation: '',
 sortBy: 'id'
 };

 // Limpiar inputs
 document.getElementById('searchInput').value = '';
 document.getElementById('generationFilter').value = '';
 document.getElementById('sortBy').value = 'id';

 // Limpiar botones de tipos
 document.querySelectorAll('#typeFilters button').forEach(button => {
 button.classList.remove('ring-4', 'ring-white', 'ring-opacity-50');
 });

 // Filtrar y renderizar
 filterPokemon();
 }

 // Función de debouncing para búsqueda
 function debounce(func, wait) {
 let timeout;
 return function executedFunction(...args) {
 const later = () => {
 clearTimeout(timeout);
 func(...args);
 };
 clearTimeout(timeout);
 timeout = setTimeout(later, wait);
 };
 }

 // Event Listeners
 function setupEventListeners() {
 // Búsqueda con debouncing
 const searchInput = document.getElementById('searchInput');
 const debouncedSearch = debounce((e) => {
 appState.activeFilters.search = e.target.value;
 filterPokemon();
 }, 300);

 searchInput.addEventListener('input', debouncedSearch);

 // Filtro por generación
 document.getElementById('generationFilter').addEventListener('change', (e) => {
 appState.activeFilters.generation = e.target.value;
 filterPokemon();
 });

 // Ordenamiento
 document.getElementById('sortBy').addEventListener('change', (e) => {
 appState.activeFilters.sortBy = e.target.value;
 filterPokemon();
 });

 // Limpiar filtros
 document.getElementById('clearFilters').addEventListener('click', clearAllFilters);

 // Toggle modo oscuro (función básica)
 document.getElementById('darkModeToggle').addEventListener('click', () => {
 document.body.classList.toggle('dark');
 // Aquí podrías implementar un modo oscuro completo
 });

 // Cerrar modal con ESC
 document.addEventListener('keydown', (e) => {
 if (e.key === 'Escape') {
 closePokemonModal();
 }
 });
 }

 // Función de inicialización
 async function initApp() {
 console.log('🚀 Iniciando PokéWiki...');

 // Configurar event listeners
 setupEventListeners();

 // Crear filtros de tipos
 createTypeFilters();

 // Cargar Pokémon
 await loadAllPokemon();

 console.log('✅ PokéWiki cargada correctamente!');
 }

 // Inicializar aplicación cuando el DOM esté listo
 document.addEventListener('DOMContentLoaded', initApp);

 // Función adicional para exportar datos (extensión opcional)
 function exportFilteredData() {
 const dataToExport = appState.filteredPokemon.map(pokemon => ({
 id: pokemon.id,
 name: pokemon.name,
 types: pokemon.types,
 height: pokemon.height / 10,
 weight: pokemon.weight / 10,
 stats: pokemon.stats.reduce((acc, stat) => {
 acc[stat.name] = stat.base_stat;
 return acc;
 }, {})
 }));

 const dataStr = JSON.stringify(dataToExport, null, 2);
 const dataBlob = new Blob([dataStr], {type: 'application/json'});
 const url = URL.createObjectURL(dataBlob);
 const link = document.createElement('a');
 link.href = url;
 link.download = 'pokemon_filtered_data.json';
 document.body.appendChild(link);
 link.click();
 document.body.removeChild(link);
 URL.revokeObjectURL(url);
 }

 // Función para mostrar estadísticas avanzadas (extensión opcional)
 function showAdvancedStats() {
 const typeStats = {};
 appState.allPokemon.forEach(pokemon => {
 pokemon.types.forEach(type => {
 if (!typeStats[type]) typeStats[type] = 0;
 typeStats[type]++;
 });
 });

 console.log('📊 Estadísticas por tipo:', typeStats);

 const genStats = {};
 Object.entries(generations).forEach(([gen, range]) => {
 genStats[`Gen ${gen}`] = appState.allPokemon.filter(p =>
 p.id >= range.start && p.id <= range.end
 ).length;
 });

 console.log('📊 Estadísticas por generación:', genStats);
 }
 </script>
</body>
</html>